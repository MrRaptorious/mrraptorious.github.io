import"../chunks/CWj6FrbW.js";import"../chunks/Be5dWuTk.js";import{o as G}from"../chunks/CbPKOLcE.js";import{p as H,d as L,s as n,t as W,g as t,a as d,e as K,i as r,m as f,j as c,r as g,k as x,f as N}from"../chunks/CKsiWAQM.js";import{e as k,s as P}from"../chunks/n36DDGjf.js";import{i as h}from"../chunks/C-7aRx6C.js";import{s as Q}from"../chunks/B_D1S_Ip.js";import{b as X,_ as Z,i as $,s as ee,d as te}from"../chunks/B8vUEQ8S.js";import{i as ae}from"../chunks/DRl7fnVc.js";var re=L('<p class="text-red-700 bg-red-100 border border-red-400 rounded-md p-3 text-center mb-4"> </p>'),oe=L('<h2 class="text-2xl font-semibold text-center mb-4">Your Image:</h2> <div class="flex justify-center"><img alt="Dottified Image" class="max-w-full h-auto border border-gray-300 rounded-lg shadow-lg"/></div>',1),ie=L(`<div class="min-h-screen p-8 font-sans space-y-10"><h1 class="text-3xl font-bold text-center mb-8">Dottify Image</h1> <p>With image dottification you can create an stilistic image made from colorful dots spaced evenly on a grid, mimicing the original image.</p> <p>This is my first project ever working with WASM. 
    Just try it out!</p> <div class="flex flex-col md:flex-col justify-center items-center gap-4 mb-8 p-6 rounded-lg shadow-md"><div class="flex flex-col md:flex-row justify-center items-center gap-4 mb-8 p-6 rounded-lg shadow-md"><h3 class="text-xl">Image:</h3> <input type="file" accept="image/png, image/jpeg, image/gif" class="py-2 px-4 border border-gray-300 rounded-md bg-gray-50 text-gray-700"/> <h3 class="text-xl">DotSize:</h3> <input type="range" id="numberInput" min="2" max="100" step="2"/></div> <button><!></button></div> <!> <!></div>`);function pe(E,F){H(F,!1);let u=f(!1),i=f(null),p=f(null),s=f(null),v=f(!1),_=f(6);G(async()=>{try{await Z(),r(u,!0),console.log("WASM module loaded successfully!"),$()}catch(e){console.error("Failed to load WASM module:",e),r(s,"Error while loading Wasm.")}});function z(e){const a=e.target;a.files&&a.files.length>0&&(r(i,a.files[0]),r(p,null),r(s,null))}async function U(){if(!t(i)){r(s,"Choose Image first!");return}if(!t(u)){r(s,"WASM-Modul not loaded yet");return}r(v,!0),r(s,null),r(p,null);try{const e=await t(i).arrayBuffer(),a=new Uint8Array(e);let o="png";t(i).type==="image/jpeg"?o="jpeg":t(i).type==="image/gif"&&(o="gif"),console.time("dottify");const y=te(a,o,t(_));console.timeEnd("dottify");const l=new Blob([y],{type:`image/${o}`});r(p,URL.createObjectURL(l))}catch(e){r(s,`Error while working with the Image: ${e.message||e}`)}finally{r(v,!1)}}ae();var w=ie(),I=n(c(w),6),j=c(I),B=n(c(j),2),A=n(B,4);A.defaultValue="20",g(j);var b=n(j,2),C=c(b);{var R=e=>{var a=x("Editing Image...");d(e,a)},J=(e,a)=>{{var o=l=>{var M=x("Load WASM...");d(l,M)},y=(l,M)=>{{var Y=m=>{var S=x("Coose Image first!");d(m,S)},q=m=>{var S=x("Dottify Image!");d(m,S)};h(l,m=>{t(i)?m(q,!1):m(Y)},M)}};h(e,l=>{t(u)?l(y,!1):l(o)},a)}};h(C,e=>{t(v)?e(R):e(J,!1)})}g(b),g(I);var D=n(I,2);{var O=e=>{var a=re(),o=c(a,!0);g(a),W(()=>P(o,t(s))),d(e,a)};h(D,e=>{t(s)&&e(O)})}var T=n(D,2);{var V=e=>{var a=oe(),o=n(N(a),2),y=c(o);g(o),W(()=>Q(y,"src",t(p))),d(e,a)};h(T,e=>{t(p)&&e(V)})}g(w),W(()=>{b.disabled=!t(i)||!t(u)||t(v),ee(b,1,`py-2 px-4 rounded-md text-white font-semibold
             transition-colors duration-200 ease-in-out
             ${!t(i)||!t(u)||t(v)?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`)}),k("change",B,z),X(A,()=>t(_),e=>r(_,e)),k("change",A,U),k("click",b,U),d(E,w),K()}export{pe as component};
